mp_enableroundwaittime 0
mp_idlemaxtime 0
mp_idledealmethod 0
sm_cvar mp_waitingforplayers_time 0
mp_match_end_at_timelimit 0
sm_cvar mp_bonusroundtime 0

tf_damage_disablespread 1 // Disable random damage falloff
tf_weapon_criticals 0
tf_weapon_criticals_melee 0
tf_use_fixed_weaponspreads 1

sv_downloadurl ""
sv_allowdownload 1

tv_enable 1
tv_port 27020
tv_maxclients 10
tv_name "SourceTV"
// stv settings
tv_autorecord "1"                                                                   // prevents autorecording sourcetv when it's enabled/active, handled by other plugin
tv_allow_camera_man "0"                                                             // don't allow spectators to become camera-people
tv_allow_static_shots "0"                                                           // prevent auto director from using fixed level cameras for shots
tv_chattimelimit "1"                                                                // sets time limit so that tv spectators can chat every second
tv_delay "0"                                                                        // sets stv to be current with actual gameserver
tv_delaymapchange "0"                                                               // DOES NOT DELAY map change until broadcast is complete
tv_delaymapchange_protect "0"                                                       // TURNS OFF protection against manual mapchange until broadcast is complete
tv_maxrate "0"                                                                      // sets STV maxrate to unlimited
tv_msg ""                                                                           // turns off any previously set tv_msg stuff
tv_relayvoice "1"                                                                   // turns on voice in STV
tv_snapshotrate "66"                                                                // broadcasts 66 STV snapshots per second
tv_timeout "10"                                                                     // sets STV timeout to 10 seconds
tv_transmitall "1"                                                                  // transmits all entity data from STV, not just visible entities
tv_title ""                                                                         // sets tv name in scoreboard
tv_name ""                                                                          // sets tv name in server browser
tv_maxclients "4"                                                                   // sets maximum people in stv to be 4 - each extra slot uses cpu and ram, be careful!
tv_password ""
// ***REPLACED SRC PASSWORD***
tv_enable "1"                                                                       // enables Source TV

// from mastercomfig's comfig-fortress server.cfg

// Server optimization
lzma_persistent_buffer 1 // Allocates more memory upfront for a one time buffer for compression
sm_cvar mp_ik 0 // Disable IK on models, which increases performance and may improve hitreg
sv_motd_unload_on_dismissal 1 // Unload MOTD on clients after dismissal
anim_3wayblend 0 // Disable three way animation blending on some entities
ai_expression_optimization 1 // Enable optimizations to facial expressions based on visibility
ai_expression_frametime .015 // Enforce perfect frametime, or else optimizations fallback to full optimization without checking visibility
//host_timer_spin_ms 0.5 // Use CPU busy-loop for improved timer precision on Windows
sm_cvar sv_pushaway_clientside 0 // No phys obj pushaway

// Hitreg optimization
// Demanding settings. Make sure your players have good ping and a good connection.
sv_clockcorrection_msecs 30 // Set all clients closer to a central server truth (2 tick intervals)
sv_mincmdrate 66 // Enforce syncing as much as possible to the server
sv_minupdaterate 66 // ^
sv_client_cmdrate_difference 0 // ^
sv_client_max_interp_ratio 2 // Restrict players from using an interp higher than needed
sv_minrate 81048 // The minimum acceptable rate is the default TF2 rate
sv_client_predict 1 // Enforce client side prediction
//sm_cvar sv_maxusrcmdprocessticks_holdaim 1 // Holds client aim angles to server for 1 tick

//sv_master_share_game_socket 0 // Use another socket for queries (port 26900), instead of redirecting through game server. Not recommended.
// Demanding on server upload speed. Use TF2 defaults (comment) instead if needed.
net_maxcleartime .029 // Rate limiting should never delay more than our correction
net_splitpacket_maxrate 83160 // Split packets are sensitive to faster rates
net_compresspackets_minsize 180 // Compress more packets (may be CPU intensive)
sv_parallel_sendsnapshot 1 // Send to each player in parallel

// Disable clientside exploits / misc abuse
sv_allow_voice_from_file 0 // Disable playing voice from a custom file
tf_tournament_hide_domination_icons 1 // Prevent players from spotting icons instead of players
mp_show_voice_icons 0 // ^
sv_restrict_aspect_ratio_fov 0 // Allow ultrawide
mp_forcecamera 1 // Force first person
sv_namechange_cooldown_seconds 300 // Limit name change abuse
sv_allowupload 0 // No uploads to limit attack vectors

// Logging
con_timestamp 1
sv_log_onefile 0